# PROMPT IA - CONSTRUCTION VAPE TRACKER V3.0

## ğŸ¯ OBJECTIF
Construis une application web complÃ¨te pour tracker l'usure des rÃ©sistances de cigarette Ã©lectronique. Interface simple, calculs automatiques, stockage persistant.

---

## ğŸ“‹ SPÃ‰CIFICATIONS TECHNIQUES

### DONNÃ‰ES Ã€ STOCKER (JSON local)
```json
{
  "resistance_actuelle": {
    "id": "R#3",
    "date_debut": "2024-12-20",
    "compteur_pod": 2070,
    "taffes_restants": 3100,
    "ml_restants": 4.8,
    "usure_pourcent": 11.5,
    "ohms_initial": 0.40
  },
  "historique": [
    {"id": "R#2", "date_debut": "2024-12-05", "duree_jours": 15, "taffes_total": 3500},
    {"id": "R#1", "date_debut": "2024-11-18", "duree_jours": 17, "taffes_total": 3800}
  ],
  "logs_quotidiens": [
    {"date": "2025-01-03", "taffes": 150, "ml_ajoutes": 0, "ohms": 0.40}
  ]
}
```

### CALCULS AUTOMATIQUES
```javascript
// 1. Usure rÃ©sistance
usure = 100 - ((taffes_restants / 3500) * 100)

// 2. PrÃ©diction changement
taffes_moyen_jour = compteur_pod / jours_depuis_debut
jours_restants = taffes_restants / taffes_moyen_jour
date_changement = aujourd'hui + jours_restants

// 3. PrÃ©diction plein liquide
ml_consommes_jour = compteur_pod * 0.0035  // 3.5ml pour 1000 taffes
jours_avant_vide = ml_restants / ml_consommes_jour
date_plein = aujourd'hui + jours_avant_vide

// 4. Alerte ohms
if (ohms_actuel > ohms_initial + 0.05) {
  alerte = "DÃ©rive dÃ©tectÃ©e - RÃ©sistance s'use plus vite"
}
```

### CODES COULEUR
```
ğŸŸ¢ VERT  : usure 0-60%   â†’ "Parfait, continue"
ğŸŸ  ORANGE: usure 60-80%  â†’ "Surveille le goÃ»t"
ğŸ”´ ROUGE : usure >80%    â†’ "CHANGE MAINTENANT"
```

---

## ğŸ–¥ï¸ INTERFACE UTILISATEUR

### LAYOUT PRINCIPAL (2 colonnes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸš¬ VAPE TRACKER V3.0                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ COLONNE GAUCHE   â”‚ COLONNE DROITE              â”‚
â”‚ Ã‰tat RÃ©sistance  â”‚ Saisie Quotidienne          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Barre usure    â”‚ Input: Taffes [   150   ]   â”‚
â”‚   [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 11.5% â”‚ Input: ML     [   0.0   ]   â”‚
â”‚                  â”‚ Input: Ohms   [  0.40   ]   â”‚
â”‚ â€¢ Taffes: 3100   â”‚ [ğŸ’¾ ENREGISTRER]            â”‚
â”‚ â€¢ ML: 4.8 ml     â”‚                              â”‚
â”‚ â€¢ Pod: 2070      â”‚                              â”‚
â”‚                  â”‚                              â”‚
â”‚ ğŸ“… PrÃ©dictions   â”‚ ğŸ“Š Stats Rapides            â”‚
â”‚ Change le:       â”‚ Moyenne: 170 taffes/jour     â”‚
â”‚ 18 janvier       â”‚ DurÃ©e R#3: 14 jours          â”‚
â”‚ Plein le:        â”‚ Meilleure: R#1 (17j)        â”‚
â”‚ 6 janvier        â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ âœ… TOUT VA BIEN - Continue normalement          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### COMPOSANTS OBLIGATOIRES

**1. Indicateur visuel d'usure**
- Barre de progression colorÃ©e (vert/orange/rouge)
- Pourcentage affichÃ© en grand
- Animation fluide lors des updates

**2. Formulaire de saisie**
- 3 inputs numÃ©riques (taffes, ml, ohms)
- Valeurs par dÃ©faut intelligentes (50 taffes, 0 ml, dernier ohms)
- Validation: taffes > 0, ml â‰¥ 0, ohms entre 0.3-0.6
- Bouton gros et visible

**3. PrÃ©dictions**
- Date de changement rÃ©sistance (calcul automatique)
- Date de plein liquide (calcul automatique)
- Affichage en franÃ§ais: "18 janvier" pas "2025-01-18"

**4. Alertes contextuelles**
```javascript
if (usure > 80) â†’ Alerte ROUGE "CHANGE MAINTENANT"
if (usure > 60) â†’ Alerte ORANGE "Surveille le goÃ»t"
if (ml_restants < 1) â†’ Alerte INFO "Liquide faible"
if (ohms_derive > 0.05) â†’ Alerte WARNING "Ohms anormaux"
else â†’ SuccÃ¨s VERT "Tout va bien"
```

**5. Historique (accordÃ©on pliable)**
- Liste des 3 derniÃ¨res rÃ©sistances
- Affichage: "R#2: 15 jours, 3500 taffes"
- Comparaison: "R#3 dure moins/plus longtemps"

---

## âš™ï¸ FONCTIONNALITÃ‰S TECHNIQUES

### STOCKAGE
- Utilise `window.storage` pour persistance (PAS localStorage)
- Sauvegarde automatique aprÃ¨s chaque action
- Gestion d'erreurs: si storage fail, affiche message clair

### COMPORTEMENT
1. **Au chargement:**
   - Charge donnÃ©es depuis storage
   - Si aucune donnÃ©e: initialise avec valeurs par dÃ©faut
   - Affiche Ã©tat actuel immÃ©diatement

2. **Lors de la saisie:**
   - Validation temps rÃ©el des inputs
   - DÃ©sactive bouton si valeurs invalides
   - Preview des calculs avant sauvegarde (optionnel)

3. **AprÃ¨s sauvegarde:**
   - Recalcule tous les indicateurs
   - Update interface instantanÃ©ment
   - Affiche confirmation "âœ… SauvegardÃ©"
   - RÃ©initialise le formulaire (taffesâ†’50, mlâ†’0)

4. **Changement de rÃ©sistance:**
   - Bouton "ğŸ”„ Nouvelle RÃ©sistance"
   - DÃ©place rÃ©sistance actuelle dans historique
   - RÃ©initialise compteurs (idâ†’R#4, taffesâ†’0, etc.)
   - Demande confirmation avant reset

### RESPONSIVE
- Desktop: 2 colonnes cÃ´te Ã  cÃ´te
- Mobile: 1 colonne, prÃ©dictions en bas
- Boutons tactiles larges (min 44px)

---

## ğŸ¨ DESIGN REQUIS

### STYLE
- Interface moderne, Ã©purÃ©e
- Couleurs: Bleu (#3B82F6) primary, Gris clair background
- Font: System UI (SF Pro, Segoe UI, Roboto)
- Bordures arrondies (8px)
- Ombres lÃ©gÃ¨res pour profondeur

### EMOJIS CONTEXTUELS
```
ğŸŸ¢ Vert OK
ğŸŸ  Orange Warning  
ğŸ”´ Rouge Danger
ğŸ“Š Stats
ğŸ“… Dates
ğŸ’¨ Taffes
ğŸ’§ Liquide
âš¡ Ohms
ğŸ”„ Reset
ğŸ’¾ Save
```

---

## âœ… VALIDATION & TESTS

### SCÃ‰NARIOS Ã€ TESTER
1. **Premier lancement:** DonnÃ©es vides â†’ Initialisation OK
2. **Saisie normale:** 150 taffes, 0 ml â†’ Calculs corrects
3. **Plein liquide:** Ajoute 10ml â†’ ML restants +10
4. **Usure critique:** Simule 80% â†’ Alerte rouge visible
5. **Changement rÃ©sistance:** Reset â†’ Historique prÃ©servÃ©
6. **Rechargement page:** DonnÃ©es persistent correctement

### ERREURS Ã€ GÃ‰RER
- Storage indisponible â†’ Message clair
- Valeurs nÃ©gatives â†’ Refus + alerte
- Ohms hors limites â†’ Warning visible
- Date invalide â†’ Fallback "Calcul impossible"

---

## ğŸ“¦ LIVRABLES ATTENDUS

### CODE
- **1 seul fichier HTML** avec JS/CSS intÃ©grÃ©
- Aucune dÃ©pendance externe (pas de CDN)
- Code commentÃ© en franÃ§ais
- Fonctionne offline aprÃ¨s 1er chargement

### DOCUMENTATION INTÃ‰GRÃ‰E
- Aide contextuelle (tooltips sur inputs)
- Message d'accueil au 1er lancement
- Instructions claires dans l'interface

---

## ğŸš€ EXEMPLE D'UTILISATION RÃ‰EL

**Utilisateur type:** Vapoteur quotidien, pas de connaissances techniques

**Flow quotidien (15 secondes):**
```
1. Ouvre l'app (bookmark navigateur)
2. Lit son compteur pod: 2220 taffes (+150 depuis hier)
3. Saisit: 150 taffes, 0 ml, 0.40 ohms
4. Clique "Enregistrer"
5. Lit: "Usure 13.2% ğŸŸ¢ - Change le 18 janvier"
6. Ferme l'app
```

**Flow hebdomadaire (plein liquide):**
```
1. Fait plein: 10ml ajoutÃ©s
2. Saisit: 180 taffes, 10 ml, 0.41 ohms
3. Lit: "ML restants: 14.1 ml - Prochain plein le 15 janvier"
```

**Flow mensuel (changement rÃ©sistance):**
```
1. GoÃ»t altÃ©rÃ©, usure 82% ğŸ”´
2. Clique "Nouvelle RÃ©sistance"
3. Confirme â†’ Reset
4. R#3 sauvegardÃ© dans historique
5. Commence suivi de R#4
```

---

## ğŸ’¡ CONTRAINTES IMPORTANTES

### OBLIGATOIRE
- âœ… Calculs automatiques (pas de calcul manuel utilisateur)
- âœ… Interface en franÃ§ais
- âœ… Stockage persistant avec `window.storage`
- âœ… Affichage immÃ©diat de l'Ã©tat actuel
- âœ… Design responsive mobile/desktop
- âœ… Code propre et maintenable

### INTERDIT
- âŒ Connexion internet requise (hors 1er chargement)
- âŒ BibliothÃ¨ques externes lourdes
- âŒ Animations tape-Ã -l'Å“il qui ralentissent
- âŒ Jargon technique dans l'interface
- âŒ localStorage/sessionStorage (utilise window.storage)

---

## ğŸ¯ PRIORITÃ‰S DE DÃ‰VELOPPEMENT

**P0 (Critique):**
1. Stockage persistant fonctionnel
2. Calculs d'usure prÃ©cis
3. Interface de saisie quotidienne
4. Alertes couleur fonctionnelles

**P1 (Important):**
5. PrÃ©dictions dates
6. Historique rÃ©sistances
7. Changement de rÃ©sistance
8. Design responsive

**P2 (Nice to have):**
9. Graphique Ã©volution usure
10. Export donnÃ©es CSV
11. ThÃ¨me sombre
12. Animations polies

---

## âœ¨ RÃ‰SULTAT ATTENDU

Une application que **n'importe qui** peut utiliser en 30 secondes sans lire de manuel. L'utilisateur regarde l'Ã©cran et comprend instantanÃ©ment si sa rÃ©sistance va bien ou doit Ãªtre changÃ©e.

**CritÃ¨re de succÃ¨s:** Un dÃ©butant complet peut gÃ©rer sa vape sans jamais changer une rÃ©sistance trop tÃ´t ou trop tard.

---

**Build this app. Make it simple, beautiful, and functional. Ready to deploy.**